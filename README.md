# 3s: Simple Static Site (Generator)

A lightweight Python script for generating static websites from textfiles and "templates" written in HTML. Great for blogs, news, webcomics, and more.

## Requirements
* Python 3
* A UNIX-like file system

The following sections of the README will serve as a quick start guide and basic documentation, as the program is relatively simple.

I strongly recommend reading through the README to get acquainted with the script. For quick access and for reference, here are links to the major sections:

[Source files: Writing a post](#source-files-writing-a-post)

[Templates](#templates)

[The configuration file](#the-configuration-file)

[The Python script: Command line options](#the-python-script-command-line-options)

## Overview
In order to generate a website, four components are needed:

* Source files (these are the posts that will be inserted into the website)
* Templates written in HTML. (A page template for how each page will look; a post template for how each post will look _within_ the page template; and a template for navigation buttons)
* A configuration file (contains paths to necessary files)
* The Python script

## Source files: Writing a post
Each source file represents one post on the generated website. They are plain text files and should have filenames that end with either ".txt" or no file extension (files with other file extensions and dotfiles will be ignored). Details of where the source files should be placed will be explained in section [The configuration file](#the-configuration-file).

Example source files are included in the "doc" directory. (They mostly use text from Wikipedia and images from Wikimedia Commons.)

### Metadata
They may contain metadata and body text. The following fields accept metadata when written in a source file (each on its own line):

* TITLE=[Your Title Here]
* DATE=[MM/DD/YY] [Hour:Minute] (Entering the hour and minute is optional. If it is used, it must be written in the 24-hour format. It is possible to include the time in some source files while excluding it in others.) (If the year is written as YYYY instead of YY, the program will trim it and format it to YY.) (If a date is left blank or entered incorrectly, the post's date will default to 01/01/00 for sorting purposes, and no date will display for that post.)
* CATEGORIES=[category1,category2,category3] (This can also be written as "C=" or "CATEGORY=")
* NUMBER=[x] (This field is optional. In it an integer can be entered. This integer will become associated with this source file and can be used for designating the order in which posts appear on the generated website. See section [The Python script](#the-python-script-command-line-options) below.)

Any metadata field may be omitted, and the program will run without error; however, it is recommended to only treat NUMBER= as optional.

### Body
Body text is written as:
```
(START)
Body Text
(STOP)
```

Note that (START) and (STOP) must be written on their own lines. The body text should also start on its own line.

#### Images
Within the body, images can be inserted. This is done by writing:

    (IMAGE path/to/image [id])
This must be placed on its own line. The path to the image should be written relative to the location of the source file. This makes it simple to write insert an image; simply place the image in the same directory as the source file and write: (IMAGE image.jpg). 

An optional 2nd argument can be given to IMAGE in order to give the generated \<img\> element an HTML id. Simply write the name of the value that you would like to be inserted in the id="" of the \<img\> element. This is useful for situations where you may want to select a specific image with CSS.

**Note:** The path that will be used for images in the final outputted page is a relative path. If you would like to use an absolute path instead, use the [-a command line option](#use-absolute-paths-for-images).

**Tip:** In order to have the image size correctly, select the \<img\> tag with CSS and use "width: 70%;" or another preferred number. For a webcomic, you may want to use "width: 100%;". In order to center the image, include in the CSS: "display: block;" and "margin: auto;"

#### Formatting / Markup
Some basic markup syntax is supported for formatting text within a source file's body:

* Italics - *
* Bold - **
* Code - \`\`\` (There is no need for this to be on its own line)

A special character (* or `) can be cancelled using the backslash \\. The backslash will cancel exactly one character in front of it.

## Templates
The template files are regular HTML files. Certain keywords written in these templates will be replaced by content upon running the script. (For example, a keyword that represents a single post will be replaced with a single post.)

Examples of these templates have been included in the "doc" directory.

### Page template
This template represents a page on the generated website. Each page that is generated by the script will use this file as its template.

Keywords that may be entered in this file's \<body\> are:

* (POST) - Gets replaced with a single post.
* (NAVIGATION) - Gets replaced with navigation links for moving between pages (See section [Navigation template](#navigation-template)).
* (NUMBER) - Gets replaced with the current page number.
* (LABEL) - On pages that only display posts of a specific category this will be replaced with the name of the category. On pages that only display posts from a specific date, this will be replaced with the name of the month and its year. For pages that are not of a specific category (i.e. the main pages of the site that contain all posts), (CATEGORY) will be replaced with "All Posts".
* (CATEGORY_LINKS) - This will be replaced with an unordered list of links to all category pages. A link to the first page of the site--"index.html"--will also be displayed as "All Posts". It is recommended to put this keyword within a \<div\> and style it with CSS.
* (DATE_LINKS) - Similar to (CATEGORY_LINKS). This keyword will be replaced with an unordered list of links to all "date pages". These are pages that only contain posts from a certain month (i.e. Jan 2026). This feature can be used to create an "archive" section on a website, with links to all past posts.

* (STYLESHEET) - Gets replaced with the relative path of the style sheet specified in the configuration file (see section [The configuration file](#the-configuration-file)). Therefore it should be placed within an HTML tag, like: \<link rel="stylesheet" href="(STYLESHEET)"\>. This keyword is optional; however, if subdirectories are used (see #), then it is required in order for style sheets to work.

All keywords are optional; however, omitting (POST) entirely will result in no posts being displayed on the generated site.

**Note:** The path that (STYLESHEET) will be replaced with in the final outputted page is a relative path. If you would like to use an absolute path instead, use the [-a command line option](#use-absolute-paths-for-images).

**Tip:** For classic style webcomic sites, configure the page template to only display one post per page. This is done by writing only one (POST) on the page template.

### Post template
This is what (POST) on the page template will be replaced with. For this reason, you may want to have it contain only one <div> with class="post".

Keywords that may be entered in this file are:

* (NUMBER) - Replaced with the post number. By default, the first post displayed on the site is treated as the final post and assigned the highest post number (unless the reverse option -r is used. See section [The Python script](#the-python-script-command-line-options) below.) (Note that this is not necessarily the same number as the metadata number mentioned above. Also see section [The Python script](#the-python-script-command-line-options).)
* (TITLE) - The title that was assigned to a post in its source file. By default will be replaced with hypertext linking to the current post. In order for this hypertext to work, place id="(NUMBER)" in the post template's main \<div\>. For more details see section [Disable title hypertext](#disable-title-hypertext).
* (DATE) - The date that was assigned to a post in its source file. By default will be replaced with hypertext. For more details see section [Disable date hypertext](#disable-date-hypertext).
* (CATEGORIES) - The categories that were assigned to a post in its source file
* (BODY) - The post's body.

**Note:** When writing the path of a stylesheet (or anything else) in the page template, it should be written relative to the location of the output directory. This is because the generated .html files will be located in the output directory and will search from there.

**Tip:** Place id="(NUMBER)" in the post template's main \<div\>. This way a URL to a specific post can be shared using an "anchor link".

### Navigation template

This is what (POST) on the page template will be replaced with. For this reason, you may want to have it contain only one \<div\> with class="navigation".

Keywords that may be entered in this file are:

* (FIRST) - Will be replaced with the filename of the first page on the site.
* (PREVIOUS) - Will be replaced with the filename of the previous page on the site.
* (NEXT) - Will be replaced with the filename of the next page on the site.
* (LAST) - Will be replaced with the filename of the last page on the site.

All of these keywords should be used inside the href="" value of an \<a\> tag. Here is an example of a navigation template (can also be found in the doc directory):

```
<div class="navigation">
	<a href="(FIRST)">First page</a>
	<a href="(PREVIOUS)">Previous page</a>
	<a href="(NEXT)">Next page</a>
	<a href="(LAST)">Last page</a>
</div>
```

The first page of the site will not display links for the previous or first pages of the site. This is done by deleting the entire line that contains (FIRST) or (PREVIOUS).
Therefore, please ensure anything written on the same line as (FIRST) or (PREVIOUS) may be deleted for the first page of the site.

Similarly, the last page of the site will not display links for the next or last pages of the site. The lines containing (NEXT) and (LAST) will be deleted.

**Tip:** If you would like to have a \<span\> surround the \<a\> tag for (NEXT), place it on the lines above and below the \<a\> tag.

### Conclusion of Templates section

The template system allows users a great amount of autonomy in how their websites will be designed. For example, keywords can be rearranged; surrounded in HTML tags like \<em\>; surrounded in a \<div\> or \<span\> which is then targeted by CSS.

## The configuration file

The configuration file is where paths of relevant files and directories are specified. The file should look like this:

```
[Paths]
OutputDirectory = [path/to/output_directory]
SourceDirectory = [path/to/source_files_directory]
PageTemplate = [path/to/page_template.html]
PostTemplate = [path/to/post_template.html]
NavigationTemplate = [path/to/navigation_template.html]
StyleSheet = [path/to/style_sheet.css]
```

Paths are not put in quotes. Files and directories specified in the configuration file will not be created automatically; they must be created manually before running the script.
Relative paths may be used. They will be interpreted relative to the location of the configuration file.

Explanation:

* OutputDirectory - Where the generated site pages will be output. By default, all existing .html files in this directory (and its subdirectories) will be deleted upon running the script. This is in order to provide the behavior of "overwriting" the directory. If you would like to avoid overwriting the output directory, see the command line option for [specifying an output directory](#specify-output-directory).

**Note:** If a subdirectory in the output directory is empty after all of its old, existing .html files are deleted, then the subdirectory itself will also be deleted.

**Tip:** If you are running this script on a web server, consider setting OutputDirectory to the directory where your website will be hosted. If your site is hosted on GitHub, consider setting OutputDirectory to a directory that is initialized with git, so you can simply run
	git push
to upload any changes to your site.

* SourceDirectory - All source files must be contained within a directory. That directory should not contain files other than source files (.swp files will be ignored, so users of text editors like Vim need not be concerned about swap files causing issues). It is possible to place the source files within subdirectories (for example, to facilitate better organization of files), as the SourceDirectory will be traversed recursively. Symlinks placed inside the SourceDirectory will be ignored.
* Template files - See [previous section about templates.](#templates)
* StyleSheet - See [previous section about the page template.](#page-template)

By default the Python script will search for the configuration file named "config.ini" in the same directory as where the script is located. 

### Manually specifying the path to a configuration file

The user can also use a command line option when running the script to specify the location of the configuration file. This will only change the configuration file for the current run of the script. The syntax for this command line option is:
```
	python3 generator.py -c "path/to/config"
	python3 generator.py --config="path/to/config"
```
**Tip:** If you would like to use this static site generator for creating multiple websites, simply create multiple versions of the configuration file, each with its own unique values for OutputDirectory, SourceDirectory, PageTemplate, PostTemplate, and NavigationTemplate. Then run the generator using the command line option for specifying a configuration file.

The configuration file that comes bundled with this software uses paths to example source files and example templates. You can test that the program is working properly using these configuration file values. Afterwards, edit the configuration file to your preferences.

## The Python script: Command line options

Upon running the script, all source files will be sorted and then inserted into HTML pages. Some command line options can be used to change the behavior of the script. They will be described below. The following may be used to display information about the command line options, as well:

```
python3 generator.py -h
python3 generator.py --help
```

By default posts will be sorted by date from newest to oldest. This provides the usual behavior of a blog: new posts are displayed at the top of the site's front page.

### Reverse order

This order can be reversed (and become oldest to newest) using a command line option:
```
python3 generator.py -r
python3 generator.py --reverse (or --reversed)
```

The user can also use command line arguments to sort posts by title (the value passed to the TITLE= field in a source file), metadata number (the value passed to the optional NUMBER= field in a source file), and source file filename:

### Sort by post title
```
python3 generator.py -t
python3 generator.py --sort-by-title
```

### Sort by post metadata number
```
python3 generator.py -n
python3 generator.py --sort-by-number
```
The NUMBER= field in source files is completely optional. Its only purpose is providing manual control over how posts are sorted, and this requires the -n command line option to be used.

### Sort by filename
```
python3 generator.py -f
python3 generator.py --sort-by-filename

```

### Specify output directory

By default the script will use the output directory specified in the configuration file. In order to use specify the output directory for the current run of the script, use the command line option:
```
python3 generator.py -o "path/to/output/directory"
python3 generator.py --output="path/to/output/directory"
```

**Note: Any output directory specified using this option will be created on the fly. This is unlike the output directory in the configuration file which must be created manually before running the script.**

**Tip:** This is useful for testing a website, when you do not want to overwrite the existing contents of the output directory specified in the configuration file.

### Specify configuration file

See above: [-c for manually specifying the path to a configuration file](#manually-specifying-the-path-to-a-configuration-file)

### Use absolute paths for stylesheet and images

By default, the script will use relative paths in the outputted files (e.g. for [images (specified in the source files)](#images) and [the stylesheet (specified in the configuration file)](#page-template)). To use absolute paths instead, use the command line option:

```
python3 generator.py -a
python3 generator.py --absolute-paths
```
#### Pros and cons
**Relative paths:** This option is useful for situations where the generator script is run on a computer that will *not* host the outputted files (e.g. running the script on a personal computer, then uploading the outputted files to a remote server. Using absolute paths in such a situation would not work). This is why the command line option is titled "-x", a mnemonic for "extract". The downside to using relative paths is that the directory structure must remain consistent in order for the paths to work. This shouldn't be a problem for users who keep all of their website related documents (images, stylesheets, outputted files) in one location and simply push or drag and drop everything to a server.

**Absolute paths:** The benefit is that the directory structure may be changed without breaking paths. However, the downside is that the site is not "portable" and cannot be easily uploaded from a PC to a server. Also, absolute paths may expose unwanted details, such as the name of your home directory.

**The bottom line:** If you will be generating and hosting a website on the same device (e.g. running the Python script from the shell of a web server), then it is possible to use absolute paths, and there may be some benefits in that. However, for most users, this will not be the case, and relative paths should be used.

### Disable subdirectories in output directory

By default the script will generate subdirectories for each category of posts (for defining categories for posts, see above: [Metadata](#metadata)). In addition to all posts being displayed on the generated site's "main pages" (the pages outputted to the root of the output directory), categorical posts will be outputted to their respective subdirectories.

Categorical posts can be outputted to the root of the output directory instead of subdirectories by using the command line option:
```
python3 generator.py --no-subdirs
```

### Disable date hypertext

By default date text within a post (represented by '(DATE)' in the [post template](#post-template)) will be hypertext. This hypertext links to the section of the site containing all posts from the month in which the post was made. This behavior can be disabled--and (DATE) will be substituted with plaintext--by using the command line option:
```
python3 generator.py --no-date-hypertext
```

### Disable title hypertext

By default title text within a post (represented by '(TITLE)' in the [post template](#post-template)) will be hypertext. This hypertext aims to provide a link to the post by linking to the HTML element with the ID equal to the post's number (which is represent by (NUMBER) in the post template). Therefore, in order for title hypertext to work properly the post template must contain a \<div\> like the following:
```
<div id=(NUMBER)>
...
</div>
```

Title hypertext can be disabled and substituted with plaintext by using the command line option:
```
python3 generator.py --no-title-hypertext
```
